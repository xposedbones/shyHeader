(function(){$.fn.shyHeader=function(e){var o,i,s,t,d,n,r,l,a,h,u,f;return this.addClass("shyHeader"),s={distanceBeforeHide:250,distanceBeforeShow:50,beforeHide:function(){},afterHide:function(){},beforeShow:function(){},afterShow:function(){},elemToHide:this,visiblePos:0,hiddenPos:-this.outerHeight(),duration:.3,delay:500,visibleClass:"visible",hiddenClass:"hidden",useJS:!0,destroy:!1},e=$.extend(s,e),u=e.elemToHide.offset().top,i=$(window).scrollTop(),r=0,l=0,d=!1,n=!1,a=!1,h=function(o){var i,s;return s=$(window).scrollTop(),i=$("footer").offset().top-$("header").outerHeight(),s>i?(a=!0,$("header").css({position:"absolute",top:i})):(a&&($("header").css({position:"fixed",top:e.hiddenPos}),a=!1),s>r?t(s,e.elemToHide):f(s,e.elemToHide)),r=s},e.destroy?($(window).off("scroll"),this.removeClass("shyHeader"),this.removeClass("shy-visible"),this.removeClass("shy-hidden"),e.elemToHide.css({top:""})):(o=null,$(window).on("scroll",function(){return clearTimeout(o),setTimeout(function(){return h()},e.delay)}),t=function(o,s){return o>=i+e.distanceBeforeHide&&!n?(e.beforeHide.call(this),e.useJS&&TweenLite.to(e.elemToHide,e.duration,{top:e.hiddenPos,ease:Quint.easeOut}),s.removeClass("shy-visible"),s.addClass("shy-hidden"),e.useJS||e.afterHide.call(this),d=!1,n=!0):void 0},f=function(o,s){return d||(d=!0,l=o),(o<=l-e.distanceBeforeShow&&n||o<=e.distanceBeforeHide)&&(e.beforeShow.call(this),e.useJS&&TweenLite.to(e.elemToHide,e.duration,{top:e.visiblePos,ease:Quint.easeOut,onComplete:e.afterShow}),n=!1,s.removeClass("shy-hidden"),s.addClass("shy-visible"),e.useJS||e.afterShow.call(this)),i=o})}}).call(this);